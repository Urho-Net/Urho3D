// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2020 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {1812, 1216, 17,   1453, 418,  1183, 493,  1754, 763,  311,
                              514,  1525, 466,  1777, 1087, 1320, 180,  1667, 1625, 1784,
                              1769, 1438, 1067, 1731, 1614, 582,  1822, 117,  1061, 1621,
                              1608, 1553, 896,  445,  796,  866,  1587};
constexpr int mangledkT2[] = {1412, 633, 929,  1791, 69,   1422, 1105, 1219, 1538, 424,
                              1685, 918, 24,   1486, 426,  1539, 394,  247,  1034, 44,
                              355,  544, 1590, 1309, 13,   1292, 795,  1704, 1624, 81,
                              450,  505, 1466, 340,  1217, 1066, 535};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1090, 0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    1719, 0,    0,    0,    0,    0,    0,    0,    415,  0,
    0,    0,    0,    0,    23,   0,    0,    0,    785,  365,  1255, 0,    0,    0,    1763, 0,
    0,    0,    0,    0,    0,    0,    0,    0,    51,   1400, 0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    1266, 0,    0,    0,    0,    0,    0,    0,
    1795, 0,    507,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    150,  0,
    329,  0,    0,    0,    0,    0,    0,    1160, 0,    0,    568,  0,    0,    0,    0,    323,
    0,    38,   0,    0,    0,    0,    59,   0,    0,    0,    1214, 0,    0,    0,    1811, 0,
    1675, 0,    347,  1379, 1841, 459,  267,  0,    237,  406,  0,    103,  743,  0,    1259, 1164,
    228,  1624, 566,  0,    0,    0,    262,  0,    0,    0,    684,  0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    923,  0,    0,    0,    352,  0,    0,    215,  658,  0,    554,
    1670, 0,    1022, 0,    779,  1508, 926,  0,    0,    203,  0,    0,    0,    0,    0,    0,
    0,    0,    1646, 0,    638,  0,    0,    0,    1144, 0,    632,  0,    973,  0,    0,    0,
    0,    1194, 0,    649,  0,    0,    0,    0,    0,    0,    0,    0,    157,  0,    1195, 0,
    0,    0,    827,  0,    0,    0,    0,    0,    763,  1198, 0,    0,    0,    0,    122,  466,
    0,    458,  0,    0,    0,    1667, 0,    0,    0,    0,    0,    0,    102,  0,    1801, 117,
    0,    0,    0,    0,    683,  0,    1827, 0,    0,    0,    0,    600,  0,    1716, 0,    761,
    0,    0,    0,    620,  302,  0,    456,  844,  1407, 492,  0,    1366, 1739, 0,    705,  0,
    0,    0,    1430, 0,    0,    0,    0,    0,    1749, 1540, 0,    1526, 188,  0,    643,  615,
    0,    100,  1118, 0,    0,    0,    0,    0,    0,    0,    1781, 0,    0,    0,    0,    1533,
    0,    1720, 0,    0,    1748, 0,    0,    676,  0,    0,    0,    210,  401,  0,    0,    0,
    675,  0,    0,    699,  0,    571,  1572, 0,    377,  539,  0,    0,    0,    0,    0,    0,
    0,    0,    448,  0,    690,  0,    0,    846,  0,    422,  0,    0,    0,    548,  0,    0,
    446,  0,    0,    0,    0,    0,    0,    0,    1136, 41,   5,    29,   447,  35,   0,    0,
    0,    857,  1247, 705,  542,  0,    0,    0,    1558, 1669, 0,    0,    0,    1533, 0,    0,
    0,    0,    0,    463,  147,  1283, 0,    0,    183,  0,    690,  0,    0,    1,    0,    0,
    0,    70,   0,    831,  376,  0,    665,  0,    764,  1045, 1461, 0,    917,  0,    863,  0,
    0,    0,    0,    0,    454,  573,  1749, 0,    0,    0,    590,  0,    201,  369,  0,    667,
    0,    645,  0,    0,    682,  0,    293,  0,    0,    0,    0,    1550, 0,    0,    0,    209,
    225,  757,  445,  50,   0,    0,    0,    360,  1127, 562,  0,    0,    670,  0,    289,  0,
    421,  0,    0,    1689, 0,    68,   0,    0,    0,    1712, 102,  0,    0,    0,    1190, 309,
    0,    0,    204,  0,    0,    1590, 209,  0,    0,    82,   0,    0,    0,    1327, 551,  0,
    177,  0,    0,    898,  0,    1512, 825,  0,    757,  0,    0,    0,    468,  1306, 0,    0,
    617,  328,  0,    948,  1633, 416,  0,    462,  0,    0,    0,    1423, 1699, 355,  0,    0,
    0,    1603, 0,    1318, 562,  0,    0,    0,    970,  0,    250,  0,    0,    0,    163,  0,
    0,    1368, 0,    0,    1576, 0,    734,  0,    1047, 0,    0,    180,  0,    0,    190,  64,
    0,    0,    0,    1131, 0,    898,  0,    750,  0,    551,  253,  0,    468,  665,  0,    0,
    0,    926,  705,  0,    637,  357,  371,  0,    14,   148,  635,  0,    693,  1465, 0,    0,
    0,    1621, 156,  0,    1319, 0,    362,  277,  0,    0,    0,    693,  0,    470,  621,  1463,
    329,  0,    997,  0,    190,  1279, 343,  0,    216,  0,    0,    662,  1216, 0,    0,    0,
    1350, 0,    0,    449,  164,  0,    326,  0,    560,  0,    0,    0,    0,    0,    0,    0,
    1620, 0,    0,    0,    97,   1337, 1737, 0,    0,    0,    0,    0,    0,    0,    1436, 1457,
    57,   0,    0,    0,    0,    181,  1206, 0,    0,    321,  0,    194,  843,  1420, 0,    832,
    0,    0,    0,    1539, 777,  362,  1418, 0,    0,    1456, 450,  687,  261,  0,    687,  1255,
    0,    570,  1135, 58,   0,    719,  0,    0,    0,    1767, 901,  493,  0,    0,    0,    495,
    0,    916,  0,    860,  0,    0,    0,    0,    1040, 73,   0,    605,  146,  439,  1462, 198,
    741,  0,    0,    543,  1561, 0,    0,    0,    762,  0,    208,  1478, 0,    0,    1584, 0,
    305,  0,    0,    1774, 489,  610,  773,  1686, 1180, 0,    0,    0,    54,   1503, 1646, 569,
    1777, 292,  1841, 0,    0,    0,    1600, 594,  870,  106,  0,    0,    0,    320,  1565, 0,
    1551, 840,  219,  0,    1425, 861,  0,    0,    0,    219,  266,  0,    632,  739,  491,  1106,
    331,  0,    0,    185,  502,  0,    1565, 0,    0,    1342, 0,    0,    1697, 370,  733,  737,
    723,  0,    8,    1747, 83,   0,    465,  578,  0,    933,  0,    0,    0,    1392, 0,    237,
    749,  0,    746,  0,    0,    0,    1399, 1675, 590,  729,  414,  699,  786,  0,    796,  536,
    647,  399,  0,    0,    0,    41,   228,  1479, 746,  0,    0,    0,    683,  180,  0,    0,
    1125, 0,    709,  829,  0,    1590, 1368, 201,  558,  40,   949,  1805, 930,  0,    1444, 0,
    1071, 297,  772,  0,    623,  0,    0,    842,  0,    0,    0,    92,   0,    1291, 384,  459,
    933,  0,    0,    227,  463,  0,    0,    860,  535,  0,    395,  281,  828,  275,  970,  581,
    0,    1620, 0,    808,  0,    0,    0,    1103, 61,   733,  0,    0,    0,    881,  0,    306,
    0,    0,    0,    225,  199,  0,    0,    0,    0,    0,    1442, 0,    528,  1547, 1197, 349,
    0,    0,    0,    0,    227,  919,  1762, 586,  0,    1167, 0,    714,  0,    679,  904,  839,
    0,    465,  0,    447,  274,  749,  374,  0,    62,   1337, 47,   1359, 0,    1595, 210,  0,
    297,  0,    1632, 0,    511,  1207, 648,  370,  0,    228,  156,  1228, 0,    0,    0,    0,
    461,  0,    0,    1548, 607,  275,  0,    0,    0,    0,    0,    0,    801,  0,    775,  0,
    0,    0,    0,    1416, 401,  1053, 1635, 0,    972,  0,    668,  0,    0,    260,  839,  0,
    0,    56,   1731, 0,    0,    0,    1050, 643,  163,  584,  0,    0,    0,    76,   0,    1623,
    865,  1570, 1829, 0,    0,    413,  459,  1065, 0,    756,  0,    0,    488,  324,  72,   649,
    0,    572,  1248, 0,    1337, 345,  0,    459,  837,  844,  125,  0,    0,    1538, 47,   479,
    423,  0,    638,  690,  378,  0,    1719, 485,  29,   313,  0,    451,  777,  988,  0,    706,
    549,  869,  1591, 0,    1383, 0,    0,    0,    1555, 1007, 235,  0,    269,  720,  560,  931,
    0,    129,  0,    1475, 0,    370,  0,    1719, 816,  307,  0,    599,  548,  1232, 178,  0,
    1464, 0,    1307, 133,  0,    0,    0,    0,    550,  301,  0,    0,    738,  29,   907,  0,
    0,    1445, 83,   569,  0,    0,    0,    197,  0,    284,  0,    0,    0,    0,    506,  790,
    0,    178,  1244, 1721, 1177, 989,  640,  0,    0,    0,    341,  1794, 246,  195,  0,    914,
    886,  532,  1495, 63,   0,    0,    0,    503,  21,   35,   674,  0,    408,  0,    1355, 0,
    989,  454,  1417, 0,    0,    0,    0,    297,  0,    40,   0,    395,  471,  1434, 804,  3,
    0,    0,    317,  0,    596,  0,    1480, 0,    0,    5,    230,  970,  261,  0,    877,  835,
    254,  1332, 0,    791,  0,    66,   0,    0,    0,    39,   0,    235,  0,    776,  323,  152,
    0,    0,    0,    1199, 0,    0,    429,  182,  221,  712,  1636, 1519, 150,  0,    1181, 323,
    753,  0,    1473, 902,  0,    393,  0,    0,    259,  457,  342,  440,  0,    1458, 0,    0,
    547,  789,  624,  1503, 0,    146,  592,  1820, 278,  336,  0,    0,    646,  0,    0,    0,
    467,  108,  517,  0,    267,  160,  388,  1124, 1769, 1409, 1605, 754,  681,  0,    675,  1596,
    619,  794,  23,   471,  0,    0,    0,    0,    0,    0,    0,    269,  1659, 1332, 613,  111,
    209,  0,    0,    123,  842,  161,  106,  0,    148,  191,  0,    0,    1617, 1353, 0,    1058,
    0,    0,    443,  71,   910,  0,    0,    721,  1721, 0,    301,  1721, 785,  0,    1097, 811,
    431,  397,  543,  1454, 0,    0,    1792, 0,    850,  1260, 645,  684,  0,    0,    240,  527,
    0,    803,  0,    1599, 0,    1334, 660,  413,  505,  0,    0,    0,    0,    0,    0,    1377,
    679,  411,  341,  24,   0,    0,    1727, 0,    0,    0,    0,    787,  886,  96,   536,  0,
    24,   0,    1260, 1739, 0,    0,    0,    302,  0,    0,    1614, 978,  0,    541,  484,  267,
    688,  941,  1131, 0,    628,  1832, 0,    0,    433,  0,    0,    494,  0,    0,    603,  325,
    594,  1275, 0,    113,  542,  0,    0,    608,  1287, 155,  1324, 926,  0,    0,    0,    836,
    674,  571,  0,    655,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    289,
    0,    1793, 0,    27,   0,    1170, 0,    0,    0,    963,  0,    933,  0,    387,  0,    0,
    0,    0,    305,  956,  1783, 0,    0,    776,  418,  0,    0,    0,    0,    240,  0,    473,
    373,  0,    0,    0,    0,    40,   800,  360,  1410, 48,   98,   0,    858,  647,  0,    0,
    91,   675,  374,  1097, 1355, 0,    296,  0,    0,    0,    0,    0,    0,    1518, 1664, 151,
    0,    656,  859,  0,    0,    0,    0,    0,    293,  1797, 0,    778,  580,  420,  0,    396,
    0,    0,    13,   203,  0,    1390, 39,   1797, 628,  552,  0,    189,  0,    97,   830,  325,
    921,  0,    1102, 0,    0,    0,    39,   661,  575,  763,  524,  538,  0,    0,    28,   0,
    662,  0,    1749, 1322, 253,  0,    432,  1178, 85,   51,   0,    0,    0,    1722, 211,  391,
    0,    0,    0,    577,  0,    440,  437,  519,  371,  386,  0,    130,  66,   0,    1182, 788,
    102,  563,  0,    31,   125,  456,  0,    813,  509,  0,    525,  1801, 470,  96,   0,    0,
    936,  488,  546,  702,  142,  0,    0,    1620, 698,  1800, 166,  433,  1346, 179,  1380, 660,
    379,  0,    181,  116,  0,    20,   119,  1033, 0,    0,    0,    1039, 0,    548,  413,  480,
    0,    0,    0,    183,  276,  0,    559,  1019, 53,   520,  0,    0,    1775, 1816, 1809, 0,
    1391, 0,    147,  471,  877,  0,    0,    0,    0,    1723, 0,    0,    1820, 1244, 0,    519,
    1543, 1822, 0,    1600, 315,  1758, 1390, 0,    190,  0,    0,    368,  166,  0,    353,  0,
    0,    0,    107,  0,    0,    0,    1737, 1082, 0,    0,    294,  1130, 273,  0,    1718, 209,
    0,    0,    1802, 1482, 846,  0,    217,  0,    0,    165,  0,    35,   534,  60,   234,  0,
    909,  0,    329,  0,    0,    425,  0,    0,    149,  1185, 904,  315,  0,    635,  1230, 586,
    44,   1316, 0,    0,    847,  1315, 263,  0,    0,    1,    186,  1369, 425,  1751, 0,    0,
    86,   0,    925,  0,    0,    446,  889,  930,  106,  0,    0,    23,   1611, 1474, 0,    0,
    190,  0,    522,  1636, 0,    653,  0,    788,  0,    685,  866,  0,    1371, 696,  851,  441,
    0,    363,  0,    461,  390,  1254, 0,    482,  642,  1508, 141,  652,  54,   1532, 0,    0,
    751,  711,  689,  1431, 140,  1383, 1326, 463,  0,    719,  1129, 0,    0,    0,    0,    533,
    528,  0,    524,  118,  98,   731,  1808, 0,    871,  864,  11,   0,    0,    0,    0,    0,
    396,  611,  327};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1843;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1843;
}

constexpr int unmangledkT1[] = {251, 151, 0,   67, 201, 177, 166, 257, 159, 258, 23,  184, 66,
                                72,  92,  120, 59, 260, 28,  154, 231, 254, 14,  227, 170, 122};
constexpr int unmangledkT2[] = {133, 59,  252, 260, 115, 215, 113, 130, 157, 70, 104, 114, 55,
                                141, 226, 45,  149, 63,  92,  170, 250, 2,   63, 20,  109, 225};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   0,   0,   0,   8,   59,  0,   39,  0,   0,   0,   3,   245, 47,  0,   0,
    8,   62,  24,  0,   0,   0,   0,   121, 254, 0,   0,   0,   91,  232, 0,   217, 62,  0,   119,
    24,  0,   21,  42,  0,   0,   0,   63,  70,  0,   117, 26,  204, 0,   0,   89,  88,  0,   0,
    0,   0,   220, 96,  0,   21,  0,   46,  0,   0,   0,   74,  62,  256, 0,   30,  39,  138, 0,
    138, 0,   73,  0,   61,  4,   103, 0,   0,   118, 79,  59,  0,   0,   0,   0,   0,   51,  0,
    238, 125, 0,   0,   0,   40,  149, 41,  0,   0,   58,  77,  30,  28,  205, 0,   2,   0,   0,
    204, 0,   80,  153, 130, 107, 0,   0,   25,  1,   56,  0,   254, 135, 57,  0,   0,   0,   129,
    0,   106, 0,   206, 64,  0,   0,   0,   49,  126, 69,  100, 53,  132, 0,   0,   6,   64,  124,
    0,   24,  4,   30,  71,  0,   11,  72,  0,   73,  77,  207, 61,  0,   252, 0,   0,   155, 105,
    2,   52,  221, 127, 0,   69,  0,   0,   0,   0,   0,   0,   0,   0,   159, 21,  0,   0,   224,
    240, 91,  124, 56,  206, 149, 138, 0,   7,   0,   170, 236, 81,  105, 186, 0,   175, 30,  74,
    0,   73,  0,   0,   68,  0,   0,   142, 80,  9,   166, 210, 104, 0,   85,  0,   256, 0,   53,
    46,  0,   51,  128, 255, 0,   5,   19,  0,   19,  216, 15,  0,   145, 31,  0,   0,   59,  255,
    147, 218, 0,   0,   0,   61,  7,   160, 1,   240, 0,   65,  87,  0};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 261;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 261;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
